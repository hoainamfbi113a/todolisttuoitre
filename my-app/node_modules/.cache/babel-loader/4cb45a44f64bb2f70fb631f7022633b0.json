{"ast":null,"code":"import { takeEvery, call, put, delay } from \"redux-saga/effects\";\nimport { addToDoAPI, checkedToDo, deleteToDo, editToDo, getList, removeAllToDoChecked } from \"./API/API\";\nimport { getToDoList, removeAllChecked } from \"./type/type\";\n\nfunction* getToDoListAPI() {\n  // console.log(\"getToDoListAPI rootSaga\")\n  const list = yield call(getList);\n  yield put({\n    type: 'getToDoListReducer',\n    list\n  });\n}\n\nfunction* addToDo(payload) {\n  const {\n    textTask\n  } = payload.todo;\n  yield put({\n    type: \"setIsLoading\"\n  });\n  yield call(addToDoAPI, textTask); // console.log(textTask);\n\n  yield call(getToDoListAPI);\n}\n\nfunction* editToDoAPI(payload) {\n  const {\n    todo\n  } = payload; // console.log(todo)\n\n  yield put({\n    type: \"setIsLoading\"\n  });\n  yield call(editToDo, todo);\n  yield call(getToDoListAPI);\n}\n\nfunction* deleteToDoAPI(payload) {\n  yield put({\n    type: \"setIsLoading\"\n  });\n  yield call(deleteToDo, payload.index);\n  yield call(getToDoListAPI);\n}\n\nfunction* checkedToDoAPI(payload) {\n  const {\n    checked,\n    index\n  } = payload.checkedToDo;\n  yield put({\n    type: \"setIsLoading\"\n  });\n  yield call(checkedToDo, checked, index);\n  yield call(getToDoListAPI);\n}\n\nfunction* removeAllCheckedAPI(payload) {\n  yield put({\n    type: \"setIsLoading\"\n  });\n  yield call(removeAllToDoChecked, payload.checkedArr);\n  yield delay(2000);\n  yield call(getToDoListAPI);\n}\n\nexport function* rootSaga() {\n  yield takeEvery(getToDoList, getToDoListAPI);\n  yield takeEvery(\"addToDoAPI\", addToDo);\n  yield takeEvery(\"editToDoAPI\", editToDoAPI);\n  yield takeEvery(\"deleteToDoAPI\", deleteToDoAPI);\n  yield takeEvery(\"checked\", checkedToDoAPI);\n  yield takeEvery(removeAllChecked, removeAllCheckedAPI);\n}","map":{"version":3,"names":["takeEvery","call","put","delay","addToDoAPI","checkedToDo","deleteToDo","editToDo","getList","removeAllToDoChecked","getToDoList","removeAllChecked","getToDoListAPI","list","type","addToDo","payload","textTask","todo","editToDoAPI","deleteToDoAPI","index","checkedToDoAPI","checked","removeAllCheckedAPI","checkedArr","rootSaga"],"sources":["/home/pc/todolisttuoitre/my-app/src/redux/rootSaga.js"],"sourcesContent":["import {takeEvery, call, put, delay} from \"redux-saga/effects\"\nimport { addToDoAPI, checkedToDo, deleteToDo, editToDo, getList, removeAllToDoChecked } from \"./API/API\";\nimport {getToDoList, removeAllChecked} from \"./type/type\";\n\n\nfunction* getToDoListAPI(){\n    // console.log(\"getToDoListAPI rootSaga\")\n    const list = yield call(getList);\n    yield put({type: 'getToDoListReducer', list});\n}\n\nfunction* addToDo(payload){\n    const {textTask} = payload.todo;\n    yield put({type: \"setIsLoading\"});\n    yield call(addToDoAPI,textTask);\n    // console.log(textTask);\n    yield call(getToDoListAPI);\n}\n\nfunction* editToDoAPI(payload){\n    const {todo} = payload;\n    // console.log(todo)\n    yield put({type: \"setIsLoading\"});\n    yield call(editToDo,todo);\n    yield call(getToDoListAPI);\n}\n\nfunction* deleteToDoAPI(payload){\n    yield put({type: \"setIsLoading\"});\n    yield call(deleteToDo,payload.index);\n    yield call(getToDoListAPI);\n}\n\nfunction* checkedToDoAPI(payload){\n    const {checked,index} = payload.checkedToDo;\n    yield put({type: \"setIsLoading\"});\n    yield call(checkedToDo,checked,index)\n    yield call(getToDoListAPI);\n}\n\nfunction* removeAllCheckedAPI(payload){\n    yield put({type: \"setIsLoading\"});\n    yield call(removeAllToDoChecked,payload.checkedArr);\n\n    yield delay(2000);\n    yield call(getToDoListAPI);\n}\n\nexport function* rootSaga(){\n    yield takeEvery(getToDoList,getToDoListAPI);\n    yield takeEvery(\"addToDoAPI\",addToDo);\n    yield takeEvery(\"editToDoAPI\",editToDoAPI);\n    yield takeEvery(\"deleteToDoAPI\",deleteToDoAPI);\n    yield takeEvery(\"checked\",checkedToDoAPI);\n    yield takeEvery(removeAllChecked,removeAllCheckedAPI);\n}"],"mappings":"AAAA,SAAQA,SAAR,EAAmBC,IAAnB,EAAyBC,GAAzB,EAA8BC,KAA9B,QAA0C,oBAA1C;AACA,SAASC,UAAT,EAAqBC,WAArB,EAAkCC,UAAlC,EAA8CC,QAA9C,EAAwDC,OAAxD,EAAiEC,oBAAjE,QAA6F,WAA7F;AACA,SAAQC,WAAR,EAAqBC,gBAArB,QAA4C,aAA5C;;AAGA,UAAUC,cAAV,GAA0B;EACtB;EACA,MAAMC,IAAI,GAAG,MAAMZ,IAAI,CAACO,OAAD,CAAvB;EACA,MAAMN,GAAG,CAAC;IAACY,IAAI,EAAE,oBAAP;IAA6BD;EAA7B,CAAD,CAAT;AACH;;AAED,UAAUE,OAAV,CAAkBC,OAAlB,EAA0B;EACtB,MAAM;IAACC;EAAD,IAAaD,OAAO,CAACE,IAA3B;EACA,MAAMhB,GAAG,CAAC;IAACY,IAAI,EAAE;EAAP,CAAD,CAAT;EACA,MAAMb,IAAI,CAACG,UAAD,EAAYa,QAAZ,CAAV,CAHsB,CAItB;;EACA,MAAMhB,IAAI,CAACW,cAAD,CAAV;AACH;;AAED,UAAUO,WAAV,CAAsBH,OAAtB,EAA8B;EAC1B,MAAM;IAACE;EAAD,IAASF,OAAf,CAD0B,CAE1B;;EACA,MAAMd,GAAG,CAAC;IAACY,IAAI,EAAE;EAAP,CAAD,CAAT;EACA,MAAMb,IAAI,CAACM,QAAD,EAAUW,IAAV,CAAV;EACA,MAAMjB,IAAI,CAACW,cAAD,CAAV;AACH;;AAED,UAAUQ,aAAV,CAAwBJ,OAAxB,EAAgC;EAC5B,MAAMd,GAAG,CAAC;IAACY,IAAI,EAAE;EAAP,CAAD,CAAT;EACA,MAAMb,IAAI,CAACK,UAAD,EAAYU,OAAO,CAACK,KAApB,CAAV;EACA,MAAMpB,IAAI,CAACW,cAAD,CAAV;AACH;;AAED,UAAUU,cAAV,CAAyBN,OAAzB,EAAiC;EAC7B,MAAM;IAACO,OAAD;IAASF;EAAT,IAAkBL,OAAO,CAACX,WAAhC;EACA,MAAMH,GAAG,CAAC;IAACY,IAAI,EAAE;EAAP,CAAD,CAAT;EACA,MAAMb,IAAI,CAACI,WAAD,EAAakB,OAAb,EAAqBF,KAArB,CAAV;EACA,MAAMpB,IAAI,CAACW,cAAD,CAAV;AACH;;AAED,UAAUY,mBAAV,CAA8BR,OAA9B,EAAsC;EAClC,MAAMd,GAAG,CAAC;IAACY,IAAI,EAAE;EAAP,CAAD,CAAT;EACA,MAAMb,IAAI,CAACQ,oBAAD,EAAsBO,OAAO,CAACS,UAA9B,CAAV;EAEA,MAAMtB,KAAK,CAAC,IAAD,CAAX;EACA,MAAMF,IAAI,CAACW,cAAD,CAAV;AACH;;AAED,OAAO,UAAUc,QAAV,GAAoB;EACvB,MAAM1B,SAAS,CAACU,WAAD,EAAaE,cAAb,CAAf;EACA,MAAMZ,SAAS,CAAC,YAAD,EAAce,OAAd,CAAf;EACA,MAAMf,SAAS,CAAC,aAAD,EAAemB,WAAf,CAAf;EACA,MAAMnB,SAAS,CAAC,eAAD,EAAiBoB,aAAjB,CAAf;EACA,MAAMpB,SAAS,CAAC,SAAD,EAAWsB,cAAX,CAAf;EACA,MAAMtB,SAAS,CAACW,gBAAD,EAAkBa,mBAAlB,CAAf;AACH"},"metadata":{},"sourceType":"module"}